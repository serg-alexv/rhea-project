{
  "version": "1.0.0",
  "last_updated": "2026-02-14T06:55:00Z",
  "last_updated_by": "Cowork Session 13 — Memory Benchmark",

  "measurements": {
    "core_docs_kb": 24,
    "repo_size_mb": 35,
    "snapshots_count": 35,
    "snapshots_kb": 280,
    "open_todo_count": 6,
    "adrs_active": 10,
    "git_commits_main": 23,
    "avg_context_tokens_estimate": 45000,
    "insights_per_request": {
      "value": 2.5,
      "note": "~30 major insights across 12 sessions (bridge, pipeline fix, benchmark)",
      "window": "last_12_sessions"
    }
  },

  "thresholds": {
    "T1_warning": {
      "core_docs_kb": 200,
      "repo_size_mb": 100,
      "open_todo_count": 20,
      "avg_context_tokens_estimate": 80000,
      "description": "Approaching bloat — schedule cleanup"
    },
    "T2_overload": {
      "core_docs_kb": 500,
      "repo_size_mb": 300,
      "open_todo_count": 50,
      "avg_context_tokens_estimate": 150000,
      "description": "MOMENT OF DISCOMFORT — trigger Reflexive Sprint"
    }
  },

  "discomfort_function": {
    "formula": "D = w1*core_docs_kb + w2*repo_size_mb + w3*open_todo_count + w4*(1/insights_per_request) + w5*avg_context_tokens_estimate",
    "weights": {
      "w1": 0.3,
      "w2": 0.1,
      "w3": 0.5,
      "w4": 10.0,
      "w5": 0.001
    },
    "current_D": 62.7,
    "D_calculation": "0.3*24 + 0.1*35 + 0.5*6 + 10*(1/2.5) + 0.001*45000 = 7.2 + 3.5 + 3.0 + 4.0 + 45.0 = 62.7",
    "T1_threshold": 150,
    "T2_threshold": 300
  },

  "qualitative_level": "comfort",
  "level_reason": "D=62.7 < T1=150: core docs only 24KB (well under 200KB budget), 10 ADRs, 35 snapshots, 23 commits — deeply healthy",

  "reflexive_sprint_history": [],

  "memory_budget": {
    "core_docs_target_kb": 150,
    "snapshots_retention_policy": "Keep named snapshots indefinitely. AUTO-* and POST_COMMIT-* older than 30 days → archive or delete.",
    "archive_policy": "When core doc exceeds 10KB, summarize older sections → archive/",
    "max_context_load_per_session_tokens": 80000
  }
}
