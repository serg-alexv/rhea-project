# MVP_LOOP — Closed-Loop Scheduler Spec (Draft)\n\n## Goal\nRhea is a controller that proposes the next best action under uncertainty, not a perfect day plan.\n\n## State x_t (minimal)\n- sleep_proxy: (from device / manual quick tag)\n- energy: 1–5 (or inferred)\n- time_budget: minutes available in current window\n- friction: current resistance (inferred: context switches, doomscroll, etc.)\n\n## Action set A (MVP)\n- micro-interventions (2–5 min)\n- tasks (10–60 min)\n- recovery actions (walk, breathing, light, hydration)\n\n## Reward / Utility\n- completion (binary)\n- strain penalty (context switches, overruns)\n- agency score (user felt in control)\n\n## Safety constraints\n- minimum viable day (anti-spiral)\n- hard bounds: no more than N context switches/hour\n- recovery floor: if sleep_proxy low → enforce recovery actions\n\n## Online updates\n- Bayesian duration update per action\n- completion probability update\n- bandit policy for micro-interventions\n\n## Logging schema\n- timestamp, state snapshot, action proposed, action taken, duration, outcome\n
